// Vote Now button clicked $('#voteButton').click(function() { $.get('/user/getInfo', function(data) { let constituency = data.constituency_name; $.get('/candidates/' + constituency, function(candidates) { let candidatesHtml = ''; candidates.forEach(function(candidate) { candidatesHtml += ` <div> <input type="radio" name="candidate" value="${candidate.candidate_name}"> <label>${candidate.candidate_name} (${candidate.party})</label> </div> `; }); $('#voteForm').html(candidatesHtml); $('#candidatesDisplay').show(); }).fail(function() { $('#candidatesDisplay').html('<p>Error fetching candidates.</p>'); }); }).fail(function() { $('#candidatesDisplay').html('<p>Error fetching user constituency.</p>'); }); });

// Submit Vote button clicked $('#submitVoteButton').click(function() { let selectedCandidate = $('input[name="candidate"]:checked').val(); if (selectedCandidate) { $.post('/vote', { candidate: selectedCandidate }, function(response) { alert('Vote submitted successfully!'); }).fail(function() { alert('Error submitting vote.'); }); } else { alert('Please select a candidate.'); } });

